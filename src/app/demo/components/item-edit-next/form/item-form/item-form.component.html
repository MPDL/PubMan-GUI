<div class="container mt-3">
  <form [formGroup]="form">
    <div class="row g-1 mb-1">
      <label for="title" class="col-sm-2 col-form-label col-form-label-sm">message</label>
      <div class="col-sm-10">
        <input type="text" class="form-control form-control-sm" id="message" name="message" formControlName="message">
      </div>
    </div>
    <div class="row g-1 mb-1">
      <label for="title" class="col-sm-2 col-form-label col-form-label-sm">local tags</label>
      <div class="col-sm-10">
        <ng-container formArrayName="localTags">
          @for (tag of localTags.controls; track tag; let i = $index) {
          <div class="row g-1 align-item-center" [ngClass]="{'mb-1': i !== localTags.controls.length - 1}">
            <div class="col-sm-11">
              <input type="text" class="form-control form-control-sm" id="tag" [formControlName]="i"
                [value]="tag.value">
            </div>
            <div class="col-1">
              <wfvs-add-remove-buttons [index]="i" (notice)="add_remove_local_tag($event)"></wfvs-add-remove-buttons>
            </div>
          </div>
          } @empty {
          <div class="col-sm-1">
            <wfvs-add-remove-buttons [index]="0" [del_val]="'hidden'" [add_val]="'add tag'"
              (notice)="add_remove_local_tag($event)"></wfvs-add-remove-buttons>
          </div>
          }
        </ng-container>
      </div>
    </div>
    <div class="row g-1 mb-1">
      <pure-metadata-form [meta_form]="metadata_form" (notice)="handleNotification($event)">
      </pure-metadata-form>
    </div>
  </form>
  <pre>{{form.value | json}}</pre>
</div>